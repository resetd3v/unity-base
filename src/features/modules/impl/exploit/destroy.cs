using System.Collections.Generic;
using System.Reflection;
using FishNet.Managing.Scened;
using UnityEngine;

// bro this game does not deserve this
// not naming the game
namespace plugin.features.impl.exploit;
public class Destroy : Module
{
    public Destroy() : base(":/", "Exploit", "", KeyCode.Keypad0) {}

    public override void OnEnable()
    {
        // PlayerSpawnObject.Inb
        PlayerSpawnObject goat = FindObjectOfType<PlayerSpawnObject>();
        if (!goat)
        {
            Toggle();
            return;
        }

        List<GameObject> goats = Utils.GetAllObjects();
        goats.ForEach((obj) => goat.DespawnObject(obj));
        Utils.Log.LogInfo($"{goats.Count}");
        
        Toggle();
    }
}